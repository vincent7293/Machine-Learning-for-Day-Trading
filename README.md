# 使用Deep Learning進行股市當沖交易

## 自動交易程式差異

市面上:

- 一般是以價格界線判斷買賣
- 漲多少%停利，跌多少%停損
- 現在設定的規則未來不一定適用
- 股票瞬息萬變，需要人為操作

本系統:

- 結合AI判斷最佳買賣點
- 以每5秒、每日的資料即時更新
- 使用深度增強式學習(Deep Reinforcement Learning)預測買賣動作



## 流程
![](https://i.imgur.com/PgDvU3r.png?1)

- 爬取資料
  - 開盤前 
    - 外國股市、外匯、期貨、法人買賣、融資融券餘額、公債殖利率
  - 開盤後 
    - 證交所 個股的每5秒委託簿(委買賣價量) 資料
    - 鉅亨網 股市新聞
- 存入資料庫
  - 數值資料 存入PostgreSQL
  - 新聞資料 存入mongoDB
- 預處理
  - 將開盤前資料合併，轉換成各項技術指標、自定義分類。並拆成每個股票一份訓練資料
  - 使用Bert做Transfer Learning判斷新聞內容對個股的正負面影響(勉強放在這)
- 訓練模型
  - 先將開盤前資料使用XGB模型預測當天高/低/收盤價的漲跌類別，作為當沖依據
  - 再以日內資料 (委買賣價量、新聞正負面)使用增強式學習。由於資料量不大 (~420萬筆)，因此採用Deep Q Network(DQN)方式訓練，盤中每5秒預測一次 (買/賣/無動作)
- 包裝成app
  - PyQt開發雙平台(Windows/Mac OS)程式
  - 串接Cmoney股市模擬下單平台
  - 即時收益觀測
